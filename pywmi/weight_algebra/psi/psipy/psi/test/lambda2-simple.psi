
def map(lambda: 𝟙→ ℝ){
    a := [lambda()];
    r₁ := [lambda()]~a;
    return r₁;
}

def main(){
    r:=map(()=>flip(1/2));
    return r[0]+r[1]; // expected: 1/2·δ(1)[r]+1/4·δ(0)[r]+1/4·δ(2)[r]
}
